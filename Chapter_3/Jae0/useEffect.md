ğŸ’¡ ë¬´ì—‡ì¸ê°€ ë³€í™”ê°€ ìƒê²¨ë‚  ëŒ€ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ë°˜ì‘í•˜ëŠ” Hook

ì£¼ë¡œ í™”ë©´ì— ì²˜ìŒ ë Œë”ë§ë ë•Œ , ë‹¤ì‹œ ë Œë”ë§ë˜ëŠ”ìˆœê°„ , ì‚¬ë¼ì§€ëŠ”ìˆœê°„ ì— íŠ¹ì • ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•¨

```jsx
useEffect(() => {
  // code
}, [value]);
```

**ì²« ë²ˆì§¸ ì¸ì**

Callback í•¨ìˆ˜ë¥¼ ì „ë‹¬ë°›ê³ ,

Callbackí•¨ìˆ˜ ë‚´ë¶€ì— ì‹¤í–‰í•˜ê³  ì‹¶ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë¨

**ë‘ ë²ˆì§¸ ì¸ì**

dependency Arr ë¥¼ ì „ë‹¬ë°›ê³  ë‚´ë¶€ì—ëŠ” ê°’(value)ì„ ì „ë‹¬ í•  ìˆ˜ ìˆìŒ

- ì „ë‹¬ë°›ì€ ê°’(value)ì´ ë³€í™” ë˜ì–´ì§ˆ ë•Œ ë§ˆë‹¤ useEffect ë‚´ë¶€ì˜ Callback í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´ì§

ğŸ”¥Â useEffectëŠ” íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ í†µí•´ ê°’ì„ ê°ì‹œí•˜ì§€ ì•Šê³ ,

ë Œë”ë§ì´ ìƒˆë¡­ê²Œ ë  ë•Œë§ˆë‹¤ ì˜ì¡´ì„±ì— ì¡´ì¬í•˜ëŠ” ê°’ì„ ë³´ë©° ì˜ì¡´ì„±ì˜ ê°’ì´ ì´ì „ ê°’ê³¼ ë‹¤ë¥¼ë•Œ

ì „ë‹¬ë°›ì€ Callback í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

- ì¼ë¶€ ì™¸ë¶€ ë°ì´í„°ì™€ ë™ê¸°í™” í•˜ë ¤ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ë©´ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- Componentì˜ ìµœìƒìœ„ ìœ„ì¹˜ì—ì„œë§Œ ì„ ì–¸í•  ìˆ˜ ìˆìŒ
- strict ëª¨ë“œì—ì„œëŠ” useEffectê°€ 2ë²ˆ ì‹¤í–‰ ë˜ì–´ì§

### ì˜ì¡´ì„±

``

ì˜ì¡´ì„± ë°°ì—´ ì¡°ì°¨ ì „ë‹¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° ì˜ì¡´ì„±ì„ ë¹„êµí•  í•„ìš” ì—†ì´ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ callbackì´ ì‹¤í–‰ë¨

â‡’ ì£¼ë¡œ componentê°€ ë Œë”ë§ ëœê²ƒì„ í™•ì¸í•˜ê³ ì‹¶ì„ ë•Œ ì‚¬ìš©í•¨

```jsx
// ë Œë”ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ
useEffect(()=>{
	console.log("ë Œë”ë§ ë°œìƒ"
})
```

ğŸ”¥Â ê·¸ë ‡ë‹¤ë©´ ì™œ ì•„ë¬´ê²ƒë„ ì „ë‹¬í•˜ì§€ ì•Šê³  ì‚¬ìš©í• ê¹Œ?

1. useEffectëŠ” componentê°€ ë Œë”ë§ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë˜ì–´ì§€ê³ , ì¼ë°˜ í•¨ìˆ˜ëŠ” ë Œë”ë§ ë„ì¤‘ ì‹¤í–‰ë˜ì–´ì§
2. ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê´€ì ì—ì„œ useEffectëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ”ê²ƒì„ ë³´ì¥í•¨

`[]`

ë¹ˆ ë°°ì—´ì„ ì „ë‹¬í•œ ê²½ìš° Reactì—ì„œëŠ” ë¹„êµí•  ì˜ì¡´ì„±ì´ ì—†ë‹¤ê³  íŒë‹¨í•˜ê³  ìµœì´ˆ ë Œë”ë§ ì§í›„ì—ë§Œ ì‹¤í–‰ë˜ì–´ì§

### ì£¼ì˜, ê¶Œì¥ ì‚¬í•­

- useEffectê°€ ì „ë‹¬ ë°›ëŠ” callbackì— ê¸°ëª… í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ê¶Œì¥í•¨

  â‡’ ë§ì€ useEffectë“¤ì´ ìƒê²¨ë‚˜ê³  ì´ë¥¼ êµ¬ë¶„í•˜ê¸°ìœ„í•´ ì‚¬ìš©í•˜ê¸° ì¢‹ìŒ

  ```jsx
  useEffect(function ì´ë¦„() {}, []);
  ```

- useEffectëŠ” ê°€ëŠ¥í•œ ì‘ê³  ê°€ë³ê²Œ ë§Œë“¤ìˆ˜ë¡ ì¢‹ìŒ

- dependencyì—ëŠ” ì™¸ë¶€ì—ì„œ ìƒì„±ëœ ê°ì²´, í•¨ìˆ˜ì™€ ê°™ì€ ì°¸ì¡°ê°’ì„ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤

  ```jsx
  function ChatRoom({ roomId }) {
    const [message, setMessage] = useState('');

    const options = {
      serverUrl: serverUrl,
      roomId: roomId
    };

    useEffect(() => {
      const connection = createConnection(options);
      connection.connect();
      return () => connection.disconnect();
    }, [options]);
    // ...
  ```

  ìœ„ì˜ ì˜ˆì‹œì²˜ëŸ¼ options ë¥¼ ê°ì‹œí•˜ê³  ìˆë‹¤ë©´,
  ë§Œì•½ optionsì˜ ë°ì´í„°ê°€ ë³€í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ì´ìœ ë¡œ rerenderê°€ ë°œìƒí–ˆì„ë•Œ ì›í•˜ëŠ” ì˜ë„ëŠ”
  useEffectê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒì„ ì˜ë„í•¨.
  í•˜ì§€ë§Œ ğŸ”¥Â optionsëŠ” ì°¸ì¡° ë°ì´í„° ì´ê¸°ë•Œë¬¸ì— rerenderì‹œì— ê°’ì˜ ë³€í™”ê°€ ì—†ì–´ë„ ì°¸ì¡° ì£¼ì†Œê°€ ë³€ê²½ë¨
  ë”°ë¼ì„œ useEffectëŠ” ì°¸ì¡° ì£¼ì†Œê°€ ë³€ê²½ëœê²ƒì„ ë³€í™”ë¡œ ê°ì§€í•˜ê³  useEffectê°€ ì‹¤í–‰ë˜ì–´ì§

### Clean Up

ğŸ’¡ ì´ì „ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, ì´ì „ ìƒíƒœë¥¼ ì²­ì†Œí•´ì£¼ëŠ” ì—­í• 

```jsx
useEffect(() => {
  element.addEventListener();

  return () => {
    element.removeEventListener();
    // clean up zone
  };
});
```

clean up ì‘ì—…ì€ useEffect ì— ì „ë‹¬í•œ callback í•¨ìˆ˜ì˜ return í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ë˜ì–´ì§

ğŸ”¥Â ì¦‰ useEffect ë‚´ë¶€ì˜ callbackì´ ì‹¤í–‰ë  ë•Œ ì´ì „ clean up í•¨ìˆ˜ê°€ ì¡´ì¬í•œë‹¤ë©´

clean up í•¨ìˆ˜ë¥¼ ì‹¤í–‰ í•œ ë’¤ callback í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•¨
